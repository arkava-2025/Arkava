---
import Section from '@/components/atoms/Section.astro';

const { title, description, imageService, iconService } = Astro.props;

const descriptionText = description?.raw?.children?.map((block: any) =>
  block.children.map((child: any) => child.text),
);

const imageUrl0 = imageService?.[0]?.url;
const imageUrl1 = imageService?.[1]?.url;
const imageUrl2 = imageService?.[2]?.url;
---

<Section style="h-auto 2xl:h-[93vh] bg-primary">
  <div
    class="container mx-auto px-6 lg:px-12 py-0 relative z-10 grid grid-cols-1 md:grid-cols-12 gap-6 h-full xl:max-h-max"
  >
    <!-- ========== TEXTO (IZQUIERDA) ========== -->
    <div
      class="md:col-span-7 flex flex-col justify-start z-20 h-full md:h-[90vh] xl:h-[80vh]"
    >
      <div class="md:h-[28%]">
        <h2
          class="text-4xl md:text-6xl font-bold tracking-[0.20em] mb-3 text-white uppercase font-pp-sans"
        >
          {title}
        </h2>

        <div class="border-l-2 border-white/40 pl-5 mb-6">
          <p
            class="text-white/90 leading-relaxed text-base md:text-lg lg:pr-4 xl:pr-8"
          >
            {descriptionText}
          </p>
        </div>
      </div>

      <div
        class="relative flex w-full md:h-[520px] lg:h-[75%] overflow-hidden shadow-2xl z-10"
      >
        {
          imageUrl0 && (
            <img
              src={imageUrl0}
              alt="cocina carpintería"
              class="w-full h-full object-cover"
            />
          )
        }
      </div>
    </div>

    <!-- ========== ÁREA DE IMÁGENES (DERECHA) ========== -->
    <div class="md:col-span-5 relative w-full md:h-[560px] lg:h-[650px]">
      <div
        class="md:absolute top-6 md:left-8 lg:-left-16 w-full md:w-[72%] xl:w-[52%] h-[46%] xl:h-[56%] overflow-hidden shadow-xl z-10 md:translate-x-6 mb-6 md:mb-0"
      >
        {
          imageUrl2 && (
            <img
              src={imageUrl2}
              alt="mueble en madera"
              class="w-full h-full object-cover"
            />
          )
        }
      </div>

      <div
        class="md:absolute bottom-10 lg:bottom-28 xl:bottom-[5%] lg:left-[30%] w-full h-auto lg:w-[72%] xl:w-[56%] md:h-[36%] lg:h-[46%] xl:h-[56%] overflow-hidden shadow-xl z-0 lg:translate-x-0"
      >
        {
          imageUrl1 && (
            <img
              src={imageUrl1}
              alt="baño carpintería"
              class="w-full h-full object-cover"
            />
          )
        }
      </div>
    </div>
  </div>
</Section>
