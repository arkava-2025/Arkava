---
import { Image } from 'astro:assets';
import BaseLayout from '@/layouts/BaseLayout.astro';
import Container from '@/components/molecules/Container.astro';
import Phone from '@/icons/phone.astro';
import Email from '@/icons/email.astro';
import Instagram from '@/icons/instagram.astro';
// import type { ContactQuery } from '@/gql/graphql';
import FormContact from '@/components/molecules/FormContact.astro';

// import getContactPage from '../queries/getContactPage';
import LeafletMap from '@/components/molecules/LeafletMap.astro';

const slug = 'contactanos';
const stage = 'PUBLISHED';

// const { contact }: ContactQuery = await getContactPage(slug, stage);
---

<BaseLayout title={'Contactanos'} metaTitle={'Contactanos'}>
  <section class="mx-auto">
    <div
      class="w-screen h-[300px] sm:h-[380px] lg:h-[380px] xl:h-[460px] relative"
    >
      <div class="w-full h-full order-1 md:-order-none bg-primary/80">
        <Image
          src="https://jbmqxuofkzwe1rde.public.blob.vercel-storage.com/bg-contact.webp"
          alt={'Contactanos'}
          width={1440}
          height={532}
          class="w-full h-full object-cover object-center animate-in slide-in-from-top duration-700 transition-all"
          loading="eager"
        />
      </div>
    </div>

    <Container>
      <!-- Información de contacto -->
      <div class="space-y-6 mt-5 md:mt-0 w-full">
        <h1 class="max-w-[520px] md:mb-4 m-auto text-center text-3xl">
          Contactanos
        </h1>

        <h2 class="text-center text-tertiary !mt-0 !text-2xl">
          Información de Contacto
        </h2>

        <div
          class="m-auto grid grid-cols-1 sm:grid-cols-3 sm:place-items-center my-8 pb-10"
        >
          <div class="flex items-center space-x-4">
            <div
              class="w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center"
            >
              <Email />
            </div>
            <div>
              <h3 class="font-semibold">Email</h3>
              <a href={`mailto:contacto@arkava.com.co`}>
                <p class="text-gray-600">contacto@arkava.com.co</p>
              </a>
            </div>
          </div>

          <div class="flex items-center space-x-4 mt-8 md:mt-0">
            <div
              class="w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center"
            >
              <Phone />
            </div>
            <div>
              <h3 class="font-semibold">Teléfono</h3>
              <p class="text-gray-600">3207672761</p>
            </div>
          </div>

          <div class="flex items-center space-x-4 mt-8 md:mt-0">
            <div
              class="w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center"
            >
              <Instagram />
            </div>
            <div>
              <h3 class="font-semibold">instagram</h3>
              <a
                class="text-gray-600"
                href="https://www.instagram.com/arkava_remodelacion?igsh=a2Ixcjh4aXR5aHY0"
                target="_blank"
              >
                arkava_remodelacion
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 w-full">
        <!-- Formulario -->
        <FormContact />
        <!-- Mapa -->
        <div class="w-full h-[55vh] md:h-[70vh] xl:h-full">
          <LeafletMap
            latitude={6.2705734}
            longitude={-75.5762646}
            mapStyle="brand"
          />
        </div>
      </div>
    </Container>
  </section>
  <!-- LocalBusiness Microdata (hidden) -->
  <div class="hidden" aria-hidden="true">
    <div itemscope itemtype="https://schema.org/LocalBusiness">
      <meta
        itemprop="@id"
        content={`${Astro.site?.toString().replace(/\/$/, '') ?? ''}/#business`}
      />
      <meta itemprop="name" content={'Contactanos'} />
      <link
        itemprop="url"
        href={`${Astro.site?.toString().replace(/\/$/, '') ?? ''}/contacto`}
      />
      <meta itemprop="email" content={'contacto@arkava.com.co'} />
      <meta itemprop="telephone" content={'+57 312 222 22 22'} />
      <meta
        itemprop="areaServed"
        content="Medellín, Envigado, Itagüí, Sabaneta, Bello, Antioquia"
      />
      <meta itemprop="availableLanguage" content="es-CO" />
      <div
        itemprop="geo"
        itemscope
        itemtype="https://schema.org/GeoCoordinates"
      >
        <meta itemprop="latitude" content="6.2705734" />
        <meta itemprop="longitude" content="-75.5762646" />
      </div>
      <div itemprop="sameAs">
        <link href="https://www.instagram.com/arkava_remodelacion/" />
      </div>
    </div>
  </div>
</BaseLayout>
