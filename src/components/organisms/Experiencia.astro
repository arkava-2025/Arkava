---
const { data } = Astro.props;

const stats = [
  {
    icon: `<svg class="w-8 h-8 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"/>
    </svg>`,
    number: data.numProjects,
    suffix: '+',
    label: 'Proyectos Completados',
  },
  {
    icon: `<svg class="w-8 h-8 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
    </svg>`,
    number: data.porcentajeSatisfacion,
    suffix: '%',
    label: 'Clientes Satisfechos',
  },
  {
    icon: `<svg class="w-8 h-8 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
    </svg>`,
    number: data.anosExperiencia,
    suffix: '+',
    label: 'AÃ±os de Experiencia',
  },
  {
    icon: `<svg class="w-8 h-8 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
    </svg>`,
    number: data.garantiaRespuesta,
    suffix: 'h',
    label: 'Respuesta Garantizada',
  },
];
---

<section class="bg-primary py-16" id="stats-section">
  <div class="max-w-7xl mx-auto">
    <div class="grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-8">
      {
        stats.map((stat) => (
          <div class="text-center">
            <div class="flex justify-center mb-4">
              <div set:html={stat.icon} />
            </div>
            <div class="text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-2">
              <span
                class="count-number"
                data-target={stat.number}
                data-suffix={stat.suffix || ''}
              >
                0
              </span>
            </div>
            <div class="text-gray-300 text-base md:text-lg">{stat.label}</div>
          </div>
        ))
      }
    </div>
  </div>
</section>

<script>
  import '@/lib/gsap-stats-animation';
</script>
